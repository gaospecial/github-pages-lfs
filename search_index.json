[["index.html", "麻麻说我们可以用 R Markdown 写书了 前言 致谢", " 麻麻说我们可以用 R Markdown 写书了 张三 2022-05-06 前言 你好，世界。我写了一本书。这本书是这样的，第 1 章介绍了啥啥，第 2 章说了啥啥，然后是啥啥…… 我用了两个 R 包编译这本书，分别是 knitr 和 bookdown (Xie 2022)。以下是我的 R 进程信息： sessionInfo() ## R version 4.2.0 (2022-04-22) ## Platform: x86_64-apple-darwin17.0 (64-bit) ## Running under: macOS Big Sur/Monterey 10.16 ## ## Matrix products: default ## BLAS: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib ## LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib ## ## locale: ## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 ## ## attached base packages: ## [1] stats graphics grDevices datasets utils ## [6] methods base ## ## loaded via a namespace (and not attached): ## [1] bookdown_0.26 sysfonts_0.8.8 showtextdb_3.0 ## [4] digest_0.6.29 R6_2.5.1 jsonlite_1.8.0 ## [7] magrittr_2.0.3 evaluate_0.15 stringi_1.7.6 ## [10] rlang_1.0.2 cli_3.3.0 renv_0.15.4 ## [13] jquerylib_0.1.4 bslib_0.3.1 rmarkdown_2.14 ## [16] tools_4.2.0 showtext_0.9-5 stringr_1.4.0 ## [19] xfun_0.30 yaml_2.3.5 fastmap_1.1.0 ## [22] compiler_4.2.0 htmltools_0.5.2 knitr_1.39 ## [25] sass_0.4.1 致谢 非常感谢谁谁以及谁谁对我的帮助。艾玛，要不是他们神一样的队友，我两年前就写完这本书了。 张三 于 A 村某角落 参考文献 "],["author.html", "作者简介", " 作者简介 上不了厅堂，下得了厨房。敲得了代码，逮得住蟑螂。 "],["intro.html", "第 1 章 牛刀小试", " 第 1 章 牛刀小试 现在我们可以试试 bookdown 的一些初级功能了，例如图表。图 1.1 是一幅无趣的散点图，表 1.1 是一份枯燥的数据。 par(mar = c(4, 4, 1, .1)) plot(cars, pch = 19) 图 1.1: 雷猴啊，散点图！ knitr::kable( head(iris), caption = &#39;雷猴啊，iris 数据！&#39;, booktabs = TRUE ) 表 1.1: 雷猴啊，iris 数据！ Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 就这样，你可以一直编下去，直到编不下去。 knitr::include_graphics(&quot;images/knit-logo.png&quot;) 图 1.2: 导入 LFS 文件并在 HTML 文档中调用它 "],["wind.html", "第 2 章 白苹风末 2.1 张老爷子 2.2 彭大将领", " 第 2 章 白苹风末 瞎扯几句。 2.1 张老爷子 话说张老爷子写了一首诗： 姑苏开遍碧桃时，邂逅河阳女画师。 红豆江南留梦影，白苹风末唱秋词。 2.2 彭大将领 貌似大家都喜欢用白萍风这个意境。又如彭玉麟的对联： 凭栏看云影波光，最好是红蓼花疏、白苹秋老； 把酒对琼楼玉宇，莫孤负天心月到、水面风来。 嘿，玛尼玛尼哄。 "],["PDF.html", "第 3 章 PDF 输出特有的问题 3.1 图上的中文字符 3.2 注释中的引文 3.3 html widget 的快照", " 第 3 章 PDF 输出特有的问题 3.1 图上的中文字符 中文字符的乱码让人很着急上火。 比如下面这幅图（图3.1），原本好好的。可是一旦我们给他加上中文的标题，就方框化了1。 par(mar = c(4, 4, 1, .1)) plot(cars, pch = 19, main=&quot;雷猴啊&quot;) 图 3.1: 雷猴啊，散点图！ 这时，在 chunk option 中加入 fig.showtext = TRUE 可以挽救一下（图3.2）。 library(showtext) par(mar = c(4, 4, 1, .1)) plot(cars, pch = 19, main=&quot;雷猴啊&quot;) 图 3.2: 雷猴啊，散点图！ 同样的情况也适用于 ggplot2 系统的图片（图 3.3）。 library(ggplot2) p &lt;- ggplot(mtcars, aes(mpg, cyl)) + geom_point() + labs(title=&quot;一份精致的汽车数据&quot;) p 图 3.3: ggplot 画图示例 3.2 注释中的引文 如果在图注中添加引文，可能会出现错误。 我们还使用刚刚的绘图，并为其加入一个引文链接。 p 图 3.4: 这是一个使用 ggplot 绘制的图片(Wickham et al. 2022) 3.3 html widget 的快照 在下面的这幅图片中，我们输出了一个 HTML widget，这在 HTML 输出中十分友好。 如果要输出这个图片到 PDF 中，会自动调用 webshot 模块拍快照。 默认情况下，情况是下面这样子。 library(plotly) ggplotly(p) 图 3.5: 需要设置合理的 webshot 参数 当图的结构比较复杂的时候，你会看到这个快照的延时不够，所以看不到这幅图片了。 这时就需要调整延时。 d &lt;- data.frame(x = runif(1000), y= runif(1000)) ggplotly(p = ggplot(d, aes(x,y)) + geom_point()) 图 3.6: 需要设置合理的 webshot 参数 参考文献 "],["sound.html", "A 余音绕梁", " A 余音绕梁 呐，到这里朕的书差不多写完了，但还有几句话要交待，所以开个附录，再啰嗦几句，各位客官稍安勿躁、扶稳坐好。 "],["references.html", "参考文献", " 参考文献 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
